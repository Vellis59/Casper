{{!-- 
Nexus Newsletter Signup Component
Enhanced signup form with tech styling
--}}

<form class="nexus-newsletter-form" data-members-form="signup">
    <div class="nexus-newsletter-input-group">
        <input 
            class="nexus-newsletter-input" 
            type="email" 
            placeholder="Enter your email address" 
            required
            data-members-email
        />
        <button class="nexus-newsletter-button" type="submit">
            <span class="button-text">Subscribe</span>
            <span class="button-loading nexus-spinner" style="display: none;"></span>
        </button>
    </div>
    
    <div class="nexus-newsletter-message" data-members-success>
        <span class="success-message">✅ Welcome to the tech community! Check your email to confirm.</span>
    </div>
    
    <div class="nexus-newsletter-message error" data-members-error>
        <span class="error-message">❌ Something went wrong. Please try again.</span>
    </div>
    
    <div class="nexus-newsletter-privacy">
        <small>No spam, unsubscribe anytime. Privacy-first approach.</small>
    </div>
</form>

<style>
.nexus-newsletter-form {
    max-width: 400px;
    margin: 0 auto;
}

.nexus-newsletter-input-group {
    display: flex;
    gap: var(--nexus-space-sm);
    margin-bottom: var(--nexus-space-md);
}

.nexus-newsletter-input {
    flex: 1;
    padding: var(--nexus-space-sm) var(--nexus-space-md);
    background: var(--bg-tertiary);
    border: 2px solid var(--nexus-border);
    border-radius: var(--nexus-radius-md);
    color: var(--text-primary);
    font-family: var(--nexus-font-primary);
    font-size: var(--nexus-text-base);
    transition: all var(--nexus-transition-fast);
}

.nexus-newsletter-input:focus {
    border-color: var(--nexus-primary);
    box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    outline: none;
}

.nexus-newsletter-input::placeholder {
    color: var(--text-muted);
}

.nexus-newsletter-button {
    position: relative;
    padding: var(--nexus-space-sm) var(--nexus-space-lg);
    background: var(--nexus-primary);
    border: none;
    border-radius: var(--nexus-radius-md);
    color: var(--nexus-bg-primary);
    font-family: var(--nexus-font-primary);
    font-weight: var(--nexus-font-semibold);
    font-size: var(--nexus-text-base);
    cursor: pointer;
    transition: all var(--nexus-transition-fast);
    overflow: hidden;
}

.nexus-newsletter-button:hover {
    background: var(--nexus-primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--nexus-shadow-md);
}

.nexus-newsletter-button:active {
    transform: translateY(0);
}

.nexus-newsletter-button.loading .button-text {
    opacity: 0;
}

.nexus-newsletter-button.loading .button-loading {
    display: inline-block !important;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.nexus-newsletter-message {
    text-align: center;
    padding: var(--nexus-space-sm);
    border-radius: var(--nexus-radius-md);
    margin-bottom: var(--nexus-space-md);
    display: none;
}

.nexus-newsletter-message.success {
    background: rgba(0, 255, 136, 0.1);
    border: 1px solid var(--nexus-success);
    color: var(--nexus-success);
}

.nexus-newsletter-message.error {
    background: rgba(255, 71, 87, 0.1);
    border: 1px solid var(--nexus-error);
    color: var(--nexus-error);
}

.nexus-newsletter-privacy {
    text-align: center;
    color: var(--text-muted);
    font-family: var(--nexus-font-primary);
}

@media (max-width: 480px) {
    .nexus-newsletter-input-group {
        flex-direction: column;
    }
    
    .nexus-newsletter-button {
        width: 100%;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('.nexus-newsletter-form');
    if (!form) return;
    
    const button = form.querySelector('.nexus-newsletter-button');
    const successMessage = form.querySelector('[data-members-success]');
    const errorMessage = form.querySelector('[data-members-error]');
    
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Add loading state
        button.classList.add('loading');
        button.disabled = true;
        
        // Hide previous messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        
        // Simulate form submission (integrate with Ghost Members API)
        setTimeout(function() {
            button.classList.remove('loading');
            button.disabled = false;
            
            // Show success message (replace with actual API integration)
            successMessage.style.display = 'block';
            form.querySelector('[data-members-email]').value = '';
        }, 1500);
    });
});
</script>